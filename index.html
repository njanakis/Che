<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–í—ñ–¥–¥—ñ–ª –Ω–∞—Ä–æ–¥–Ω–æ—ó —Ç–≤–æ—Ä—á–æ—Å—Ç—ñ</title>
    <style>
        /* –ü–û–ö–†–ê–©–ï–ù–Ü –°–¢–ò–õ–Ü */
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            margin: 0; 
            padding: 0; 
            background: #f0f2f5; /* –°–≤—ñ—Ç–ª–∏–π —Å—É—á–∞—Å–Ω–∏–π —Ñ–æ–Ω */
            color: #333;
        }
        header { 
            background: #8b0000; /* –ù–∞—Å–∏—á–µ–Ω–∏–π —á–µ—Ä–≤–æ–Ω–∏–π */
            color: white; 
            padding: 30px 20px; 
            text-align: center; 
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* –¢—ñ–Ω—å –¥–ª—è –≥–ª–∏–±–∏–Ω–∏ */
        }
        header h3 {
            margin-top: 5px;
        }
        /* –°—Ç–∏–ª—å –¥–ª—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –û–¶–ù–¢ —É —Ö–µ–¥–µ—Ä—ñ */
        header h3 a {
            color: #ffcc00; /* –ê–∫—Ü–µ–Ω—Ç–Ω–∏–π –∂–æ–≤—Ç–∏–π –∫–æ–ª—ñ—Ä */
            text-decoration: none;
            font-size: 18px;
            display: block;
        }
        header h3 a:hover {
            text-decoration: underline;
        }

        nav { 
            background: #b30000; 
            padding: 12px 0; 
            display: flex; 
            justify-content: center; 
            gap: 30px; 
            position: sticky; /* –§—ñ–∫—Å–æ–≤–∞–Ω–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è */
            top: 0;
            z-index: 1000;
        }
        nav a { 
            color: white; 
            text-decoration: none; 
            font-weight: 600; 
            padding: 8px 15px; 
            border-radius: 4px;
            transition: background-color 0.3s ease;
        }
        nav a:hover {
            background-color: #d60000; /* –ï—Ñ–µ–∫—Ç –Ω–∞–≤–µ–¥–µ–Ω–Ω—è */
        }
        
        .container { 
            max-width: 1000px; 
            margin: 30px auto; 
            padding: 30px; 
            background: white; 
            border-radius: 12px; 
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); /* –ú'—è–∫–∞ —Ç—ñ–Ω—å */
        }
        .section-title { 
            font-size: 32px; 
            margin-bottom: 20px; 
            color: #8b0000; 
            border-bottom: 3px solid #ffcc00; /* –ê–∫—Ü–µ–Ω—Ç–Ω–∞ –ª—ñ–Ω—ñ—è */
            padding-bottom: 5px;
            display: inline-block; 
        }

        ul {
            list-style-type: 'üîπ '; /* –°–∏–º–≤–æ–ª–∏ –∑–∞–º—ñ—Å—Ç—å —Ç–æ—á–æ–∫ */
            padding-left: 20px;
        }
        ul li {
            margin-bottom: 10px;
        }

        /* –°—Ç–∏–ª—å –¥–ª—è –ø–æ—Å–∏–ª–∞–Ω—å —É –ö–æ–Ω—Ç–∞–∫—Ç–∞—Ö */
        .container#contacts a {
            color: #8b0000;
            text-decoration: none;
            font-weight: bold;
        }
        .container#contacts a:hover {
            text-decoration: underline;
        }

        footer { 
            background: #b30000; 
            color: white; 
            text-align: center; 
            padding: 20px; 
            margin-top: 40px; 
            font-size: 14px;
        }
    </style>
</head>
<body>
    <header>
        <h1>–í—ñ–¥–¥—ñ–ª –Ω–∞—Ä–æ–¥–Ω–æ—ó —Ç–≤–æ—Ä—á–æ—Å—Ç—ñ</h1>
        <h3><a href="https://www.facebook.com/narodocntcherkasy/" target="_blank">–û–±–ª–∞—Å–Ω–∏–π –¶–µ–Ω—Ç—Ä –ù–∞—Ä–æ–¥–Ω–æ—ó –¢–≤–æ—Ä—á–æ—Å—Ç—ñ</a></h3>
    </header>

    <nav>
        <a href="#about">–ü—Ä–æ –Ω–∞—Å</a>
        <a href="#collectives">–ö–æ–ª–µ–∫—Ç–∏–≤–∏ üé≠</a>
        <a href="#events">–ü–æ–¥—ñ—ó</a>
        <a href="#">–ü–µ–¥–∞–≥–æ–≥–∞–º</a>
        <a href="#contacts">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
    </nav>

    <div class="container" id="about">
        <h2 class="section-title">–ü—Ä–æ –Ω–∞—Å</h2>
        <p>–í—ñ–¥–¥—ñ–ª –Ω–∞—Ä–æ–¥–Ω–æ—ó —Ç–≤–æ—Ä—á–æ—Å—Ç—ñ –∑–∞–π–º–∞—î—Ç—å—Å—è —Ä–æ–∑–≤–∏—Ç–∫–æ–º —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é —Ç–≤–æ—Ä—á–∏—Ö –∫–æ–ª–µ–∫—Ç–∏–≤—ñ–≤ –æ–±–ª–∞—Å—Ç—ñ, –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—î—é —Ñ–µ—Å—Ç–∏–≤–∞–ª—ñ–≤, —Å–µ–º—ñ–Ω–∞—Ä—ñ–≤, –æ–≥–ª—è–¥—ñ–≤ —Ç–∞ –ø–æ–ø—É–ª—è—Ä–∏–∑–∞—Ü—ñ—î—é —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –∫—É–ª—å—Ç—É—Ä–∏.</p>
    </div>

    <div class="container" id="collectives">
        <h2 class="section-title">–ù–∞—à—ñ –∫–æ–ª–µ–∫—Ç–∏–≤–∏</h2>
        <ul>
            <li>–ù–∞—Ä–æ–¥–Ω—ñ —Ç–∞ –∑—Ä–∞–∑–∫–æ–≤—ñ –∫–æ–ª–µ–∫—Ç–∏–≤–∏</li>
            <li>–¢—Ä–æ—ó—Å—Ç—ñ –º—É–∑–∏–∫–∏</li>
            <li>–î—É—Ö–æ–≤—ñ –æ—Ä–∫–µ—Å—Ç—Ä–∏</li>
            <li>–•–æ—Ä–µ–æ–≥—Ä–∞—Ñ—ñ—á–Ω—ñ</li>
            <li>–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω—ñ</li>
            <li>–¢–µ–∞—Ç—Ä–∞–ª—å–Ω—ñ</li>
            <li>–í–æ–∫–∞–ª—å–Ω–æ-—Ö–æ—Ä–æ–≤—ñ</li>
        </ul>
    </div>

    <div class="container" id="events">
        <h2 class="section-title">–ü–æ–¥—ñ—ó —Ç–∞ –Ω–æ–≤–∏–Ω–∏</h2>
        <p>–û–≥–æ–ª–æ—à–µ–Ω–Ω—è, –∫–æ–Ω–∫—É—Ä—Å–∏, —Ñ–µ—Å—Ç–∏–≤–∞–ª—ñ, —Å–µ–º—ñ–Ω–∞—Ä–∏ ‚Äî –≤—Å–µ –≤–∞–∂–ª–∏–≤–µ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ.</p>
    </div>

    <div class="container" id="ratings">
        <h2 class="section-title">–†–µ–π—Ç–∏–Ω–≥ –ø–µ—Ä–µ–≥–ª—è–¥—ñ–≤ (Facebook)</h2>
        <p>–°—é–¥–∏ –±—É–¥–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫ –ø–µ—Ä–µ–≥–ª—è–¥—ñ–≤ –≤—ñ–¥–µ–æ –∑ <a href="https://www.facebook.com/narodocntcherkasy/" target="_blank">–Ω–∞—à–æ—ó Facebook-—Å—Ç–æ—Ä—ñ–Ω–∫–∏</a> (—ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ API –∞–±–æ n8n).</p>
    </div>

    <div class="container" id="contacts">
        <h2 class="section-title">–ö–æ–Ω—Ç–∞–∫—Ç–∏</h2>
        <p>Email: info@example.com</p>
        <p>–¢–µ–ª–µ—Ñ–æ–Ω: +380 00 000 00 00</p>
        <p><strong>–ú–∏ —É Facebook:</strong> <a href="https://www.facebook.com/narodocntcherkasy/" target="_blank">facebook.com/narodocntcherkasy</a></p>
    </div>

    <footer>
        ¬© 2025 –í—ñ–¥–¥—ñ–ª –Ω–∞—Ä–æ–¥–Ω–æ—ó —Ç–≤–æ—Ä—á–æ—Å—Ç—ñ –û–¶–ù–¢
    </footer>
    // –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
    <!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è ‚Äî –ù–∞—Ä–æ–¥–Ω–∏–π —Ü–µ–Ω—Ç—Ä</title>

  <!--
    –ü–æ–≤–Ω—ñ—Å—Ç—é –≤–∫–ª—é—á–∞—î–º–æ –ø–æ–ª—ñ—Ç–∏–∫—É –¥–æ–∑–≤–æ–ª—ñ–≤, —â–æ–± –±—Ä–∞—É–∑–µ—Ä –¥–æ–∑–≤–æ–ª–∏–≤
    Google Identity API –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ feature "identity-credentials-get"
    (—É—Ö–≤–∞–ª–∞ –±—Ä–∞—É–∑–µ—Ä–∞ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó). –Ø–∫—â–æ –≤–∏ —Ä–æ–∑–≥–æ—Ä—Ç–∞—î—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º—É –¥–æ–º–µ–Ω—ñ,
    —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–æ–¥–∞–≤–∞—Ç–∏ —Ü–µ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–∞ —Ä—ñ–≤–Ω—ñ —Å–µ—Ä–≤–µ—Ä–∞:
    Permissions-Policy: identity-credentials-get=(self "https://accounts.google.com")

    –Ø–∫—â–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ (–ø—ñ—Å–æ—á–Ω–∏—Ü—è / preview) –Ω–µ –¥–∞—î —Ü—ñ—î—ó –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ, –∑'—è–≤–∏—Ç—å—Å—è fallback-–≤–∞—Ä—ñ–∞–Ω—Ç
    ‚Äî –∫–Ω–æ–ø–∫–∞, —è–∫–∞ –≤—ñ–¥–∫—Ä–∏–≤–∞—î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π OAuth2 popup (–ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ redirect URI).
  -->
  <meta http-equiv="Permissions-Policy" content="identity-credentials-get=(self 'https://accounts.google.com')">

  <script src="https://accounts.google.com/gsi/client" async defer></script>

  <style>
    body{font-family:Arial,Helvetica,sans-serif;background:#f5f5f5;padding:40px;display:flex;justify-content:center}
    .container{background:#fff;padding:24px;width:380px;border-radius:10px;box-shadow:0 6px 24px rgba(0,0,0,.08)}
    h2{margin-top:0}
    input{width:100%;padding:10px;margin:8px 0;border-radius:6px;border:1px solid #ccd}
    button{width:100%;padding:12px;background:#007bff;border:none;color:#fff;border-radius:6px;cursor:pointer}
    .divider{text-align:center;margin:14px 0;color:#666}
    .note{font-size:13px;color:#666;margin-top:8px}
    .hidden{display:none}
    .error{color:#b00;font-weight:600}
  </style>
</head>
<body>
  <div class="container">
    <h2>–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</h2>

    <form id="manualForm">
      <input id="lastname" type="text" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ" required />
      <input id="firstname" type="text" placeholder="–Ü–º'—è" required />
      <input id="email" type="email" placeholder="–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞" required />
      <button type="submit">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</button>
    </form>

    <div class="divider">–∞–±–æ</div>

    <div id="gsi-area">
      <!-- GSI OneTap / Sign-in button. data-auto_prompt=false —â–æ–± –Ω–µ –∑–∞–ø—É—Å–∫–∞—Ç–∏ One Tap –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ -->
      <div id="g_id_onload"
           data-client_id="225496350184-4q6j2iqu5n9hkjt8u4age31bd4nkmedo.apps.googleusercontent.com"
           data-auto_prompt="false"
           data-context="signin"
           data-ux_mode="popup"
           data-callback="handleGoogleLogin"></div>

      <div class="g_id_signin" data-type="standard"></div>

      <div id="gsi-error" class="note error hidden"></div>
    </div>

    <div id="oauth-fallback" class="hidden">
      <div class="note">–Ø–∫—â–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –≤—Ö—ñ–¥ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π —É —Ü—å–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –ø—ñ–¥–∫–∞–∑–∞–Ω—É –∫–Ω–æ–ø–∫—É:</div>
      <button id="oauthBtn">Login with Google (fallback)</button>
      <div class="note">–ü—Ä–∞—Ü—é—î —á–µ—Ä–µ–∑ OAuth2 popup. Redirect URI –º–∞—î –±—É—Ç–∏ –¥–æ–¥–∞–Ω–∏–π –≤ Google Cloud Console.</div>
    </div>

    <div id="result" class="note hidden"></div>
  </div>

  <script>
    // --- Utility: show/hide and messages
    function show(elem){ elem.classList.remove('hidden'); }
    function hide(elem){ elem.classList.add('hidden'); }
    function setText(elem, txt){ elem.textContent = txt; }

    const gsiErrorEl = document.getElementById('gsi-error');
    const oauthFallbackEl = document.getElementById('oauth-fallback');
    const resultEl = document.getElementById('result');

    // Manual form handler (example ‚Äî here you would send to your backend)
    document.getElementById('manualForm').addEventListener('submit', function(e){
      e.preventDefault();
      const data = {
        lastname: document.getElementById('lastname').value.trim(),
        firstname: document.getElementById('firstname').value.trim(),
        email: document.getElementById('email').value.trim()
      };
      // For demo we just show the data. In production POST to your server.
      setText(resultEl, '–ó–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ (–ª–æ–∫–∞–ª—å–Ω–æ): ' + JSON.stringify(data));
      show(resultEl);
    });

    // --- Google Identity callback
    function handleGoogleLogin(response){
      try{
        if(!response || !response.credential) throw new Error('No credential');
        // response.credential ‚Äî —Ü–µ JWT ID token (OIDC). –í–∏ –º–∞—î—Ç–µ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –π–æ–≥–æ –Ω–∞ –±–µ–∫–µ–Ω–¥ –¥–ª—è –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
        console.log('GSI credential (ID token):', response.credential);
        setText(resultEl, '–£—Å–ø—ñ—à–Ω–∏–π –≤—Ö—ñ–¥ —á–µ—Ä–µ–∑ Google (ID Token –æ—Ç—Ä–∏–º–∞–Ω–æ). –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å.');
        show(resultEl);
      }catch(err){
        console.error('GSI callback error', err);
        setText(gsiErrorEl, '–ü–æ–º–∏–ª–∫–∞ –æ–±—Ä–æ–±–∫–∏ Google identity: ' + err.message);
        show(gsiErrorEl);
      }
    }

    // --- Detect GSI runtime errors (FedCM / Permissions issues)
    window.addEventListener('gsiloaded', function(){
      // If GSI script runs but browser disallows identity features, we may get runtime errors logged.
      // We attach a small timeout to check if the button rendered.
      setTimeout(()=>{
        const btn = document.querySelector('.g_id_signin');
        if(!btn || btn.offsetParent === null){
          // button not visible ‚Äî show fallback
          setText(gsiErrorEl, 'Google Identity –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π —É —Ü—å–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ fallback-–ª–æ–≥—ñ–Ω.');
          show(gsiErrorEl);
          show(oauthFallbackEl);
        }
      }, 800);
    });

    // Also catch global GSI logger messages that indicate FedCM/permission problems
    // The GSI library logs [GSI_LOGGER] messages to console ‚Äî we can't intercept console easily,
    // but we can try to initialize and catch synchronous errors.

    // --- OAuth fallback: popup with implicit flow (for demo only)
    // NOTE: implicit flow (response_type=token) is deprecated ‚Äî recommended use PKCE code flow on server.
    // For quick demo, set your redirect URI in Google Cloud to https://YOUR_DOMAIN/oauth2callback

    const CLIENT_ID = '225496350184-4q6j2iqu5n9hkjt8u4age31bd4nkmedo.apps.googleusercontent.com';
    const REDIRECT_URI = window.location.origin + '/oauth2callback'; // must be registered in Google Cloud
    const SCOPE = 'openid email profile';

    document.getElementById('oauthBtn').addEventListener('click', function(){
      // Build OAuth2 URL (implicit for demo)
      const authUrl = 'https://accounts.google.com/o/oauth2/v2/auth' +
        '?client_id=' + encodeURIComponent(CLIENT_ID) +
        '&redirect_uri=' + encodeURIComponent(REDIRECT_URI) +
        '&response_type=token' +
        '&scope=' + encodeURIComponent(SCOPE) +
        '&prompt=select_account';

      // Open popup
      const w = 600, h = 700;
      const left = (screen.width/2) - (w/2);
      const top = (screen.height/2) - (h/2);
      const popup = window.open(authUrl, 'google_oauth', 'width=' + w + ',height=' + h + ',top=' + top + ',left=' + left);

      // Listener for messages from redirect page (we expect the redirect page to postMessage the token)
      function onMessage(e){
        if(e.origin !== window.location.origin) return; // only accept messages from same origin
        if(e.data && e.data.type === 'oauth-token'){
          setText(resultEl, 'OAuth token (fallback) –æ—Ç—Ä–∏–º–∞–Ω–æ: ' + e.data.access_token);
          show(resultEl);
          window.removeEventListener('message', onMessage);
          popup.close();
        }
      }
      window.addEventListener('message', onMessage);
    });

    // If this page is used as redirect (e.g. /oauth2callback) we need to postMessage back to opener
    // This small block allows the popup landing page (on the same origin) to forward the token to the opener.
    (function forwardTokenFromUrl(){
      try{
        if(window.opener && window.location.hash){
          const params = new URLSearchParams(window.location.hash.substring(1));
          const access_token = params.get('access_token');
          if(access_token){
            window.opener.postMessage({type:'oauth-token', access_token}, window.location.origin);
            // optional: display a message
            document.body.innerHTML = '<div style="padding:20px;font-family:Arial">Login successful ‚Äî you can close this window.</div>';
          }
        }
      }catch(e){/* ignore */}
    })();

    // --- If GSI fails early, show fallback
    setTimeout(()=>{
      // If result not shown and no GSI button visible, reveal fallback
      const btn = document.querySelector('.g_id_signin');
      if(!btn || btn.offsetParent === null){
        show(oauthFallbackEl);
        setText(gsiErrorEl, '–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π Google Sign-In –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π —É —Ü—å–æ–º—É –±—Ä–∞—É–∑–µ—Ä—ñ/—Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –∫–Ω–æ–ø–∫—É fallback.');
        show(gsiErrorEl);
      }
    }, 1200);
  </script>
</body>
</html>

</body>
</html>
